# ALS miRNA Oxidation Research Project Configuration
# This file contains all project settings and parameters

# Project Information
project:
  name: "ALS miRNA Oxidation Research"
  version: "1.0.0"
  description: "Investigation of oxidation patterns in miRNAs in ALS"
  author: "Research Team"
  date: "2025-01-21"

# Data Configuration
data:
  # Input file paths
  input_matrix: "mat_gt.csv"  # Main input matrix with SNV and TOTAL columns
  sample_metadata: "sample_metadata.tsv"  # Sample metadata file
  mirna_sequences: "300_miRNAs.fasta"  # miRNA sequence file
  
  # Output directories
  output_dir: "."
  fig_dir: "fig"
  tables_dir: "tables"
  runs_dir: "runs"
  
  # Data processing parameters
  min_coverage: 10  # Minimum coverage threshold
  min_samples_per_group: 3  # Minimum samples per group for analysis
  quality_threshold: 0.8  # Quality threshold for data filtering

# Analysis Parameters
analysis:
  # Statistical parameters
  alpha: 0.05  # Significance level
  fdr_method: "BH"  # FDR correction method (BH, BY, etc.)
  n_permutations: 1000  # Number of permutations for testing
  
  # Clustering parameters
  clustering:
    methods: ["ward", "hdbscan", "spectral"]  # Clustering methods to use
    k_range: [2, 20]  # Range of k values to test
    consensus_threshold: 0.7  # Consensus threshold for cluster stability
    
  # Seed region parameters
  seed:
    start_position: 2  # Start position of seed region (1-indexed)
    end_position: 8    # End position of seed region (1-indexed)
    
  # Target prediction parameters
  target_prediction:
    min_seed_match: 6  # Minimum seed match length
    max_mismatch: 1    # Maximum mismatches allowed
    min_free_energy: -20  # Minimum free energy threshold

# Visualization Parameters
visualization:
  # Figure settings
  figure:
    width: 10
    height: 8
    dpi: 300
    format: "png"
    
  # Color schemes
  colors:
    group_colors: ["#1f77b4", "#ff7f0e", "#2ca02c", "#d62728"]  # Group colors
    heatmap_colors: "viridis"  # Heatmap color scheme
    
  # Plot themes
  theme: "minimal"  # ggplot2 theme

# Computational Resources
computing:
  # Parallel processing
  n_cores: 4  # Number of cores to use for parallel processing
  parallel_backend: "doParallel"  # Parallel backend to use
  
  # Memory management
  max_memory: "8GB"  # Maximum memory usage
  chunk_size: 1000  # Chunk size for large data processing

# Quality Control
qc:
  # Coverage analysis
  coverage:
    min_coverage: 10
    max_coverage: 10000
    coverage_percentiles: [25, 50, 75, 90, 95, 99]
    
  # Sample filtering
  sample_filtering:
    min_reads: 1000  # Minimum total reads per sample
    max_missing: 0.5  # Maximum proportion of missing values
    
  # miRNA filtering
  mirna_filtering:
    min_samples: 3  # Minimum samples with coverage
    min_variants: 1  # Minimum variants per miRNA

# Output Settings
output:
  # File naming
  file_prefix: "als_mirna_oxidation"
  timestamp_format: "%Y%m%d_%H%M%S"
  
  # Report generation
  generate_reports: true
  report_format: "html"
  include_code: true
  
  # Data export
  export_formats: ["csv", "tsv", "xlsx"]
  include_metadata: true

# Logging
logging:
  level: "INFO"  # Logging level (DEBUG, INFO, WARN, ERROR)
  file: "runs/analysis.log"
  max_size: "10MB"
  backup_count: 5

# Validation
validation:
  # Data validation
  check_required_columns: true
  check_data_types: true
  check_value_ranges: true
  
  # Schema validation
  use_schema: true
  schema_file: "data_schema.json"
  
  # Cross-validation
  cross_validate: true
  cv_folds: 5
